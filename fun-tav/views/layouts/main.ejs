<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- bootstrap css -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We"
      crossorigin="anonymous"
    />

    <!-- fontawesome icon -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
      integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <title>funtav</title>
  </head>

  <body>
    <!-- flash message toast -->
    <%- include('../partials/messages.ejs') %>

    <!-- navbar -->
    <%- include('../partials/navbar.ejs') %>

    <!-- body -->
    <%- body %>

    <!-- footer -->
    <%- include('../partials/footer.ejs') %>

    <!-- bootstrap js -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.min.js"
      integrity="sha384-cn7l7gDp0eyniUwwAZgrzD06kc/tftFf19TOAs2zVinnD/C7E91j9yyk5//jjpt/"
      crossorigin="anonymous"
    ></script>

    <!-- jquery -->
    <script
      src="https://code.jquery.com/jquery-3.6.0.slim.min.js"
      integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI="
      crossorigin="anonymous"
    ></script>

    <!-- internal script -->
    <script>
      $(document).ready(function (event) {
        $("#delete").click(function () {
          const no_itineraries = $("#no_itineraries").val();
          if (parseInt(no_itineraries) > 1) {
            $(`.itinerary${no_itineraries}`).remove();
            const i = parseInt(no_itineraries) - 1;
            $("#no_itineraries").val(i.toString());
          }
        });

        $("#add").click(function () {
          const no_itineraries = parseInt($("#no_itineraries").val());
          const i = (no_itineraries + 1).toString();
          $(".itineraries").append(`<div class="border mb-3 p-3 itinerary${i}">
                  <input
                    type="text"
                    name="title${i}"
                    class="form-control mb-3"
                    required
                    placeholder="Itinerary Title"
                  />
                  <div class="row mb-3">
                    <div class="col-4">
                      <label class="form-label">Hari ke</label>
                      <input
                        type="number"
                        readonly
                        value="${i}"
                        name="day${i}"
                        class="form-control"
                        required
                      />
                    </div>
                    <div class="col-8">
                      <label class="form-label">Tanggal</label>
                      <input
                        type="date"
                        name="date${i}"
                        class="form-control"
                        required
                      />
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-6">
                      <textarea
                        name="description${i}"
                        class="form-control"
                        rows="3"
                        placeholder="Description"
                        required
                      ></textarea>
                    </div>
                    <div class="col-6">
                      <div class="form-check">
                        <input
                          type="checkbox"
                          class="form-check-input"
                          id="breakfast${i}"
                          name="breakfast${i}"
                        />
                        <label class="form-check-label" for="breakfast${i}"
                          >Breakfast</label
                        >
                      </div>
                      <div class="form-check">
                        <input
                          type="checkbox"
                          class="form-check-input"
                          id="lunch${i}"
                          name="lunch${i}"
                        />
                        <label class="form-check-label" for="lunch${i}"
                          >Lunch</label
                        >
                      </div>
                      <div class="form-check">
                        <input
                          type="checkbox"
                          class="form-check-input"
                          id="dinner${i}"
                          name="dinner${i}"
                        />
                        <label class="form-check-label" for="dinner${i}"
                          >Dinner</label
                        >
                      </div>
                    </div>
                  </div>
                </div>`);
          $("#no_itineraries").val(i);
        });
      });

      function showLoading() {
        $(".spinner-border").removeClass("d-none");
        $(".bi-search").addClass("d-none");
      }
    </script>
  </body>
</html>
