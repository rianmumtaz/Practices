/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[0],{360:function(ha,ca,f){f.r(ca);f.d(ca,"ByteRangeRequest",function(){return na});var aa=f(4),z=f(0);f.n(z);var fa=f(1),da=f(124);ha=f(79);var ba=f(201),y=f(61),n=f(56),x=f(200),h=f(137);f=f(313);var e=[],w=[],r=window,ia=function(){return function(){this.cl=1}}(),ea;(function(e){e[e.UNSENT=0]="UNSENT";e[e.DONE=4]="DONE"})(ea||(ea={}));var na=function(){function f(e,f,h,n){var w=this;this.url=e;this.range=f;this.lf=h;this.withCredentials=
n;this.UW=ea;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);r.Uint8Array&&(this.request.responseType="arraybuffer");n&&(this.request.withCredentials=n);ka.DISABLE_RANGE_HEADER||(Object(z.isUndefined)(f.stop)?this.request.setRequestHeader("Range","bytes="+f.start):this.request.setRequestHeader("Range",["bytes=",f.start,"-",f.stop-1].join("")));this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");h&&Object.keys(h).forEach(function(e){w.request.setRequestHeader(e,
h[e])});this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=x.a.NOT_STARTED}f.prototype.start=function(e){var f=this,h=this.request;h.onreadystatechange=function(){if(f.aborted)return f.status=x.a.ABORTED,e({code:x.a.ABORTED});if(this.readyState===f.UW.DONE){f.Az();var n=0===window.document.URL.indexOf("file:///");200===h.status||206===h.status||n&&0===h.status?(n=r.SO(this),
f.gs(n,e)):(f.status=x.a.ERROR,e({code:f.status,status:f.status}))}};this.request.send(null);this.status=x.a.STARTED};f.prototype.gs=function(e,f){this.status=x.a.SUCCESS;if(f)return f(!1,e)};f.prototype.abort=function(){this.Az();this.aborted=!0;this.request.abort()};f.prototype.Az=function(){var n=Object(h.c)(this.url,this.range,w);-1!==n&&w.splice(n,1);if(0<e.length){n=e.shift();var r=new f(n.url,n.range,this.lf,this.withCredentials);n.request=r;w.push(n);r.start(Object(h.d)(n))}};f.prototype.extend=
function(e){var f=Object.assign({},this,e.prototype);f.constructor=e;return f};return f}(),ka=function(f){function r(e,h,n,r,w){n=f.call(this,e,n,r)||this;n.gl={};n.gy=h;n.url=e;n.DISABLE_RANGE_HEADER=!1;n.Cv=na;n.DJ=3;n.lf=w||{};return n}Object(aa.c)(r,f);r.prototype.Mt=function(e,f,h){var r=-1===e.indexOf("?")?"?":"&";switch(h){case !1:case n.a.NEVER_CACHE:e=e+r+"_="+Object(z.uniqueId)();break;case !0:case n.a.CACHE:e=e+r+"_="+f.start+","+(Object(z.isUndefined)(f.stop)?"":f.stop)}return e};r.prototype.jN=
function(e,f,h,n){void 0===h&&(h={});return new this.Cv(e,f,h,n)};r.prototype.q2=function(f,h,n,r,x){for(var y=0;y<e.length;y++)if(Object(z.isEqual)(e[y].range,h)&&Object(z.isEqual)(e[y].url,f))return e[y].hg.push(r),e[y].AA++,null;for(y=0;y<w.length;y++)if(Object(z.isEqual)(w[y].range,h)&&Object(z.isEqual)(w[y].url,f))return w[y].hg.push(r),w[y].AA++,null;n={url:f,range:h,gy:n,hg:[r],AA:1};if(0===e.length&&w.length<this.DJ)return w.push(n),n.request=this.jN(f,h,x,this.withCredentials),n;e.push(n);
return null};r.prototype.Im=function(f,n,r){var x=this.Mt(f,n,this.gy);(f=this.q2(x,n,this.gy,r,this.lf))&&f.request.start(Object(h.d)(f));return function(){var f=Object(h.c)(x,n,w);if(-1!==f){var r=--w[f].AA;0===r&&w[f].request&&w[f].request.abort()}else f=Object(h.c)(x,n,e),-1!==f&&(r=--e[f].AA,0===r&&e.splice(f,1))}};r.prototype.zO=function(){return{start:-da.a}};r.prototype.s5=function(){var e=-(da.a+da.e);return{start:e-da.d,end:e}};r.prototype.qr=function(e){var f=this;this.ly=!0;var h=da.a;
this.Im(this.url,this.zO(),function(n,r,w){function x(){var h=f.Kd.wO();f.Im(f.url,h,function(n,r){if(n)return Object(fa.i)("Error loading central directory: "+n),e(n);r=Object(y.a)(r);if(r.length!==h.stop-h.start)return e("Invalid XOD file: Zip central directory data is wrong size! Should be "+(h.stop-h.start)+" but is "+r.length);f.Kd.KR(r);f.fE=!0;f.ly=!1;return e(!1)})}if(n)return Object(fa.i)("Error loading end header: "+n),e(n,r,w);r=Object(y.a)(r);if(r.length!==h)return e("Invalid XOD file: Zip end header data is wrong size!");
try{f.Kd=new ba.a(r)}catch(za){return e(za)}f.Kd.N6?f.Im(f.url,f.s5(),function(h,n){if(h)return Object(fa.i)("Error loading zip64 header: "+h),e(h);n=Object(y.a)(n);f.Kd.f7(n);x()}):x()})};r.prototype.PO=function(e){e(Object.keys(this.Kd.im))};r.prototype.LH=function(e,f){var h=this;if(this.Kd.bN(e)){var n=this.Kd.rz(e);if(n in this.gl){var r=this.kh[e];r.oq=this.gl[n];r.oq.cl++;r.cancel=r.oq.cancel}else{var w=this.Kd.P3(e),x=this.Im(this.url,w,function(r,x){r?(Object(fa.i)('Error loading part "'+
e+'": '+r),h.Im(h.url,w,function(r,x){if(r)return f(r,e);h.OR(x,w,n,e,f)})):h.OR(x,w,n,e,f)}),y=this.kh[e];y&&(y.ST=!0,y.cancel=function(){y.oq.cl--;0===y.oq.cl&&(x(),delete h.gl[n])},this.gl[n]=new ia(n),y.oq=this.gl[n],y.oq.cancel=y.cancel)}}else delete this.kh[e],f(Error('File not found: "'+e+'"'),e)};r.prototype.OR=function(e,f,h,n,r){if(e.length!==f.stop-f.start)r(Error("Part data is wrong size!"),n);else{do{if(!this.gl[h])return;n=this.gl[h].cl;for(var w=f.kp.length,x=0;x<w;++x){var y=f.kp[x];
r(!1,y.gp,e["string"===typeof e?"substring":"subarray"](y.start,y.stop),this.Kd.NP(y.gp));y.gp in this.kh&&delete this.kh[y.gp]}}while(n!==this.gl[h].cl);delete this.gl[h]}};r.DISABLE_RANGE_HEADER=!1;r.DJ=3;return r}(ha.a);(function(e){function f(f,h,n){var r=e.call(this)||this,w;for(w in f)r[w]=f[w];r.Ega=f;r.startOffset=h;r.endOffset=n;r.jN=function(e,h,n,w){Object(z.isUndefined)(h.stop)?(h.start+=r.endOffset,h.stop=r.endOffset):(h.start+=r.startOffset,h.stop+=r.startOffset);e=r.Mt(r.url,h,r.gy);
return new f.Cv(e,h,n,w)};return r}Object(aa.c)(f,e);return f})(ka);Object(f.a)(ka);Object(f.b)(ka);ca["default"]=ka}}]);}).call(this || window)
